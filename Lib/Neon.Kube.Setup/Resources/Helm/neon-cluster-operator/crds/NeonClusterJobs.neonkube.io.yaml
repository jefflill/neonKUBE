apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: neonclusterjobs.neonkube.io
spec:
  group: neonkube.io
  names:
    kind: NeonClusterJob
    plural: neonclusterjobs
    shortNames: []
    singular: neonclusterjob
  scope: Cluster
  versions:
  - additionalPrinterColumns: []
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Specifies the cluster job settings.
        properties:
          spec:
            description: The spec.
            properties:
              controlPlaneCertificateRenewal:
                description: CRON schedule for renewing the control plane certificate.
                properties:
                  enabled:
                    description: Indicates whether this job is enabled or disabled.  This defaults to false.
                    type: boolean
                  schedule:
                    description: |-
                      The update schedule. This is enxtended Quartz cron expression.  This defaults
                       to "R R 0 ? * *" which fires every day at a random minute and second
                       between 12:00am and 1:00am.
                    type: string
                type: object
              nodeCaCertificateUpdate:
                description: CRON schedule for updating for Node CA certificates.
                properties:
                  enabled:
                    description: Indicates whether this job is enabled or disabled.  This defaults to false.
                    type: boolean
                  schedule:
                    description: |-
                      The update schedule. This is enxtended Quartz cron expression.  This defaults
                       to "R R 0 ? * *" which fires every day at a random minute and second
                       between 12:00am and 1:00am.
                    type: string
                type: object
              linuxSecurityPatches:
                description: CRON schedule for applying Linux security patches to the cluster nodes.
                properties:
                  enabled:
                    description: Indicates whether this job is enabled or disabled.  This defaults to false.
                    type: boolean
                  schedule:
                    description: |-
                      The update schedule. This is enxtended Quartz cron expression.  This defaults
                       to "R R 0 ? * *" which fires every day at a random minute and second
                       between 12:00am and 1:00am.
                    type: string
                type: object
              harborImagePush:
                description: |-
                  CRON schedule for ensuring that the required NEONKUBE container images
                   are loaded into Harbor.
                properties:
                  enabled:
                    description: Indicates whether this job is enabled or disabled.  This defaults to false.
                    type: boolean
                  schedule:
                    description: |-
                      The update schedule. This is enxtended Quartz cron expression.  This defaults
                       to "R R 0 ? * *" which fires every day at a random minute and second
                       between 12:00am and 1:00am.
                    type: string
                type: object
              telemetryPing:
                description: CRON schedule for sending telemerty pings to the headend.
                properties:
                  enabled:
                    description: Indicates whether this job is enabled or disabled.  This defaults to false.
                    type: boolean
                  schedule:
                    description: |-
                      The update schedule. This is enxtended Quartz cron expression.  This defaults
                       to "R R 0 ? * *" which fires every day at a random minute and second
                       between 12:00am and 1:00am.
                    type: string
                type: object
              clusterCertificateRenewal:
                description: CRON schedule for renewing the cluster certficate.
                properties:
                  enabled:
                    description: Indicates whether this job is enabled or disabled.  This defaults to false.
                    type: boolean
                  schedule:
                    description: |-
                      The update schedule. This is enxtended Quartz cron expression.  This defaults
                       to "R R 0 ? * *" which fires every day at a random minute and second
                       between 12:00am and 1:00am.
                    type: string
                type: object
            type: object
          status:
            description: The status.
            properties:
              controlPlaneCertificateRenewal:
                description: Control plane certificate update status.
                properties:
                  lastCompleted:
                    description: The time that the job last completed.
                    format: date-time
                    type: string
                type: object
              nodeCaCertificateUpdate:
                description: Node CA certificate update status.
                properties:
                  lastCompleted:
                    description: The time that the job last completed.
                    format: date-time
                    type: string
                type: object
              linuxSecurityPatches:
                description: Update spec for security status.
                properties:
                  lastCompleted:
                    description: The time that the job last completed.
                    format: date-time
                    type: string
                type: object
              harborImagePush:
                description: Container images push to Harbor update status.
                properties:
                  lastCompleted:
                    description: The time that the job last completed.
                    format: date-time
                    type: string
                type: object
              telemetryPing:
                description: Cluster telemetry update status.
                properties:
                  lastCompleted:
                    description: The time that the job last completed.
                    format: date-time
                    type: string
                type: object
              clusterCertificateRenewal:
                description: Neon Desktop certificate update status.
                properties:
                  lastCompleted:
                    description: The time that the job last completed.
                    format: date-time
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}